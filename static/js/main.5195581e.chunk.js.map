{"version":3,"sources":["images/logo.svg","components/Header.js","components/Footer.js","components/Loader.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/DotsLoader.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/DeletionConfirmPopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","href","target","src","headerLogo","alt","Footer","Loader","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","name","onClick","onCardClick","type","aria-label","title","onCardDelete","setCardDelete","onCardLike","length","Main","isLoading","avatar","onEditAvatar","onEditProfile","about","onAddCard","cards","map","DotsLoader","PopupWithForm","isOpen","onClose","onSubmit","noValidate","children","isSubmitDisabled","disabled","isFormLoading","buttonText","EditProfilePopup","useState","setName","description","setDescription","nameValidityError","setNameValidityError","descriptionValidityError","setDescriptionValidityError","useEffect","e","preventDefault","onUpdateUser","id","minLength","maxLength","placeholder","value","onChange","nameInput","validity","validationMessage","valueMissing","tooShort","required","descriptionInput","EditAvatarPopup","inputRef","useRef","setAvatar","avatarValidityError","setAvatarValidityError","onUpdateAvatar","current","ref","avatarInput","typeMismatch","AddPlacePopup","setLink","cardTitleValidityError","setCardTitleValidityError","cardLinkValidityError","setCardLinkValidityError","cardTitleInput","cardLinkInput","ImagePopup","DeletionConfirmPopup","onConfirmDeletion","api","baseUrl","headers","this","_baseUrl","_headers","result","ok","json","Promise","reject","status","fetch","then","_checkResponse","method","body","JSON","stringify","cardId","removeLikeCard","setLikeCard","authorization","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isDeletionConfirmPopup","setDeletionConfirmPopup","selectedCard","setSelectedCard","setCurrentUser","setCards","cardDelete","setIsLoading","setIsFormLoading","removeInputErrors","inputList","document","querySelectorAll","Array","from","forEach","input","valid","errorElements","error","classList","remove","textContent","hideInputErrors","closeAllPopups","forms","form","reset","handleResetForms","all","getUserInfo","getInitialCards","userData","catch","err","console","log","finally","handleEscClose","evt","key","addEventListener","removeEventListener","handleOverlayClose","contains","Provider","changeLikeCardStatus","newCard","state","c","setUserInfo","data","addCard","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5195581e.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React from 'react';\nimport headerLogo from '../images/logo.svg';\n\nfunction Header() {\n  return (\n    <header className=\"header page__section page__section_place_header\">\n      <a href=\"#\" target=\"_self\">\n        <img src={headerLogo} alt=\"Логотип Mesto Russia\" className=\"header__logo\" />\n      </a>\n    </header>\n  )\n}\n\nexport default Header;\n","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer page__section page__section_place_footer\">\r\n      <p className=\"footer__copyright\">&copy;2021 Mesto Russia</p>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\n\r\nfunction Loader() {\r\n  return (\r\n    <section className=\"loader loader_visible\">\r\n      <div className=\"loader__triangle triangle-spin\"></div>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default Loader;\r\n","import React from 'react';\n\nconst CurrentUserContext = React.createContext();\n\nexport default CurrentUserContext;\n","import React from 'react';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = (\r\n    `button card__delete-button ${isOwn ? '' : 'card__delete-button_hidden'}`\r\n  );\r\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n  const cardLikeButtonClassName = (\r\n    `button card__like-button ${isLiked ? 'card__like-button_active' : ''}`\r\n  );\r\n\r\n\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    props.onCardDelete();\r\n    props.setCardDelete(props.card);\r\n  }\r\n\r\n  return (\r\n    <article className=\"card\">\r\n      <div className=\"card__image-wrap\">\r\n        <img src={props.card.link} alt={props.card.name} className=\"card__image\" onClick={handleClick} />\r\n      </div>\r\n      <button type=\"button\" aria-label=\"Удалить\" title=\"Удалить\" className={cardDeleteButtonClassName} onClick={handleDeleteClick}></button>\r\n      <div className=\"card__info\">\r\n        <h2 className=\"card__title\">{props.card.name}</h2>\r\n        <div className=\"card__like-wrap\">\r\n          <button type=\"button\" aria-label=\"Нравится\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\r\n          <p className=\"card__like-number\">{props.card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </article>\r\n  )\r\n}\r\n\r\nexport default Card;\r\n","import React from 'react';\r\nimport Loader from './Loader';\r\nimport Card from './Card';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      {props.isLoading && (<Loader />)}\r\n\r\n      <section className={`profile page__section page__section_place_profile ${props.isLoading && \"page__section_hidden\"}`}>\r\n        <div className=\"profile__avatar-wrap\">\r\n          <img src={currentUser.avatar} alt=\"аватар\" className=\"profile__avatar\" />\r\n          <button type=\"button\" aria-label=\"Редактировать\" title=\"Редактировать\" className=\"button profile__avatar-edit\" onClick={props.onEditAvatar}></button>\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n          <button type=\"button\" aria-label=\"Редактировать\" title=\"Редактировать\" className=\"button button_action_edit profile__info-button\" onClick={props.onEditProfile}></button>\r\n          <p className=\"profile__activity\">{currentUser.about}</p>\r\n        </div>\r\n        <button type=\"button\" aria-label=\"Добавить\" title=\"Добавить\" className=\"button button_action_add-card profile__button\" onClick={props.onAddCard}></button>\r\n      </section>\r\n\r\n      <section className={`cards page__section page__section_place_cards ${props.isLoading && \"page__section_hidden\"}`}>\r\n        {props.cards.map((card) => (\r\n         <Card card={card} key={card._id} onCardClick={props.onCardClick} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete} setCardDelete={props.setCardDelete} />\r\n        ))}\r\n      </section>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\r\n\r\nfunction DotsLoader() {\r\n  return (\r\n    <span className=\"dots-loader dots-loader_visible\">\r\n      <span className=\"dots-loader__dot dot-pulse\">.</span>\r\n      <span className=\"dots-loader__dot dot-pulse\">.</span>\r\n      <span className=\"dots-loader__dot dot-pulse\">.</span>\r\n    </span>\r\n  )\r\n}\r\n\r\nexport default DotsLoader;\r\n","import React from 'react';\nimport DotsLoader from './DotsLoader';\n\nfunction PopupWithForm(props) {\n  return (\n    <div className={`popup popup_type_${props.name} ${props.isOpen ? \"popup_opened\" : \"\"}`}>\n      <div className={`popup__container popup__container_type_${props.name}`}>\n        <button type=\"button\" aria-label=\"Закрыть\" title=\"Закрыть\" className=\"button popup__close-button\" onClick={props.onClose}></button>\n        <form className=\"form\" name={props.name} onSubmit={props.onSubmit} noValidate >\n          <fieldset className=\"form__profile-info\">\n            <legend className=\"form__title\">{props.title}</legend>\n            {props.children}\n            <button type=\"submit\" name=\"submit\" className={`${props.isSubmitDisabled && \"form__button_disabled\"} button button_action_submit form__button form__button_position_${props.name}`} disabled={props.isFormLoading || props.isSubmitDisabled ? true : ''}>{props.buttonText}\n              {props.isFormLoading && (<DotsLoader />)}\n            </button>\n          </fieldset>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default PopupWithForm ;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n  const [nameValidityError, setNameValidityError] = React.useState('');\n  const [descriptionValidityError, setDescriptionValidityError] = React.useState('');\n  const isSubmitDisabled = nameValidityError || descriptionValidityError;\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  function handleNameChange(e) {\n    const nameInput = e.target;\n    const {value, validity, validationMessage} = nameInput;\n    setName(value);\n\n    if (validity.valueMissing) {\n      setNameValidityError('Вы пропустили это поле');\n    } else if (validity.tooShort) {\n      setNameValidityError('Минимальня длина - 2 символа');\n    } else {\n      setNameValidityError(validationMessage);\n    }\n  }\n\n  function handleDescriptionChange(e) {\n    const descriptionInput = e.target;\n    const {value, validity, validationMessage} = descriptionInput;\n    setDescription(value);\n\n    if (validity.valueMissing) {\n      setDescriptionValidityError('Вы пропустили это поле');\n    } else if (validity.tooShort) {\n      setDescriptionValidityError('Минимальня длина - 2 символа');\n    } else {\n      setDescriptionValidityError(validationMessage);\n    }\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onUpdateUser({\n      name: name,\n      about: description\n    });\n  }\n\n  return (\n    <PopupWithForm name=\"edit\" title=\"Редактировать профиль\" buttonText=\"Сохранить\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} isFormLoading={props.isFormLoading} isSubmitDisabled={isSubmitDisabled} >\n      <input type=\"text\" name=\"name\" id=\"user-name\" minLength=\"2\" maxLength=\"40\" className=\"form__input\" placeholder=\"Имя\" value={name} onChange={handleNameChange} required/>\n      {nameValidityError && <span className=\"form__input-error form__input-error_active user-name-error\">{nameValidityError}</span>}\n      <input type=\"text\" name=\"activity\" id=\"user-activity\" minLength=\"2\" maxLength=\"200\" required className=\"form__input\" placeholder=\"О себе\" value={description} onChange={handleDescriptionChange} />\n      {descriptionValidityError && <span className=\"form__input-error form__input-error_active user-activity-error\">{descriptionValidityError}</span>}\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup;\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const inputRef = React.useRef();\r\n  const [avatar, setAvatar] = React.useState('');\r\n  const [avatarValidityError, setAvatarValidityError] = React.useState('');\r\n  const isSubmitDisabled = avatarValidityError;\r\n\r\n  function handleAvatarChange(e) {\r\n    const avatarInput = e.target;\r\n    const { value, validity, validationMessage } = avatarInput;\r\n    setAvatar(value);\r\n\r\n    if (validity.valueMissing) {\r\n      setAvatarValidityError('Вы пропустили это поле');\r\n    } else if (validity.typeMismatch) {\r\n      setAvatarValidityError('Введите адрес сайта');\r\n    } else {\r\n      setAvatarValidityError(validationMessage);\r\n    }\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onUpdateAvatar({\r\n      avatar: inputRef.current.value\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm name=\"avatar-edit\" title=\"Обновить аватар\" buttonText=\"Сохранить\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} isFormLoading={props.isFormLoading} isSubmitDisabled={isSubmitDisabled} >\r\n      <input type=\"url\" name=\"link\" id=\"avatar-link\" required className=\"form__input\" placeholder=\"Ссылка на картинку\" ref={inputRef} value={avatar} onChange={handleAvatarChange} />\r\n      {avatarValidityError && <span className=\"form__input-error form__input-error_active avatar-link-error\">{avatarValidityError}</span>}\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup(props) {\n  const [name, setName] = React.useState('');\n  const [link, setLink] = React.useState('');\n  const [cardTitleValidityError, setCardTitleValidityError] = React.useState('');\n  const [cardLinkValidityError, setCardLinkValidityError] = React.useState('');\n  const isSubmitDisabled = cardTitleValidityError || cardLinkValidityError;\n\n  function handleNameChange(e) {\n    const cardTitleInput = e.target;\n    const {value, validity, validationMessage} = cardTitleInput;\n    setName(value);\n\n    if (validity.valueMissing) {\n      setCardTitleValidityError('Вы пропустили это поле');\n    } else if (validity.tooShort) {\n      setCardTitleValidityError('Минимальня длина - 2 символа');\n    } else {\n      setCardTitleValidityError(validationMessage);\n    }\n  }\n\n  function handleLinkChange(e) {\n    const cardLinkInput = e.target;\n    const {value, validity, validationMessage} = cardLinkInput;\n    setLink(value);\n\n    if (validity.valueMissing) {\n      setCardLinkValidityError('Вы пропустили это поле');\n    } else if (validity.typeMismatch) {\n      setCardLinkValidityError('Введите адрес сайта');\n    } else {\n      setCardLinkValidityError(validationMessage);\n    }\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onAddCard({\n      name: name,\n      link: link\n    });\n  }\n\n  return (\n    <PopupWithForm name=\"add-card\" title=\"Новое место\" buttonText=\"Создать\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} isFormLoading={props.isFormLoading} isSubmitDisabled={isSubmitDisabled} >\n      <input type=\"text\" name=\"title\" id=\"card-title\" minLength=\"2\" maxLength=\"30\" required className=\"form__input\" placeholder=\"Название\" onChange={handleNameChange} />\n      {cardTitleValidityError && <span className=\"form__input-error form__input-error_active card-title-error\">{cardTitleValidityError}</span>}\n      <input type=\"url\" name=\"link\" id=\"card-link\" required className=\"form__input\" placeholder=\"Ссылка на картинку\" onChange={handleLinkChange} />\n      {cardLinkValidityError && <span className=\"form__input-error form__input-error_active card-link-error\">{cardLinkValidityError}</span>}\n    </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup;\n","import React from 'react';\r\n\r\nfunction ImagePopup(props) {\r\n  return (\r\n    <div className={`popup popup_type_image ${props.card ? \"popup_opened\" : \"\"}`}>\r\n      <div className=\"popup__container popup__container_type_image\">\r\n        <button type=\"button\" aria-label=\"Закрыть\" title=\"Закрыть\" className=\"button popup__close-button\" onClick={props.onClose}></button>\r\n        <figure className=\"popup__image-wrap\">\r\n          <img src={props.card.link} alt={props.card.name} className=\"popup__image\" />\r\n          <figcaption className=\"popup__caption\">{props.card.name}</figcaption>\r\n        </figure>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ImagePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction DeletionConfirmPopup(props) {\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onConfirmDeletion();\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm name=\"deletion-confirm\" title=\"Вы уверены?\" buttonText=\"Да\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} isFormLoading={props.isFormLoading}></PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default DeletionConfirmPopup;\r\n","class Api {\r\n  constructor({ baseUrl, headers }) {\r\n    this._baseUrl = baseUrl;\r\n    this._headers = headers;\r\n  }\r\n\r\n  _checkResponse(result) {\r\n    if (result.ok) {\r\n      return result.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${result.status}`);\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      headers: this._headers\r\n    })\r\n    .then(this._checkResponse);\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      headers: this._headers\r\n    })\r\n    .then(this._checkResponse);\r\n  }\r\n\r\n  setUserInfo({ name, about }) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: `${name}`,\r\n        about: `${about}`\r\n      })\r\n    })\r\n    .then(this._checkResponse);\r\n  }\r\n\r\n  setAvatar({ avatar }) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: `${avatar}`\r\n      })\r\n    })\r\n    .then(this._checkResponse);\r\n  }\r\n\r\n  addCard({ name, link }) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: `${name}`,\r\n        link: `${link}`\r\n      })\r\n    })\r\n    .then(this._checkResponse);\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers\r\n    })\r\n    .then(this._checkResponse);\r\n  }\r\n\r\n  setLikeCard(cardId) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n      method: 'PUT',\r\n      headers: this._headers\r\n    })\r\n    .then(this._checkResponse);\r\n  }\r\n\r\n  removeLikeCard(cardId) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers\r\n    })\r\n    .then(this._checkResponse);\r\n  }\r\n\r\n  changeLikeCardStatus(cardId, isLiked) {\r\n    if (isLiked) {\r\n      return this.removeLikeCard(cardId);\r\n    } else {\r\n      return this.setLikeCard(cardId);\r\n    }\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-24',\r\n  headers: {\r\n    authorization: 'c72c9866-e9ca-4f90-b055-72d87299b8be',\r\n    'Content-Type': 'application/json'\r\n  }\r\n});\r\n\r\nexport default api;\r\n","import React from 'react';\nimport Header from './Header';\nimport Footer from './Footer';\nimport Main from './Main';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ImagePopup from './ImagePopup';\nimport DeletionConfirmPopup from './DeletionConfirmPopup';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport api from '../utils/api.js';\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isDeletionConfirmPopup, setDeletionConfirmPopup] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState(null);\n  const [currentUser, setCurrentUser] = React.useState({\n    name: '',\n    about: '',\n    avatar: ''\n  });\n  const [cards, setCards] = React.useState([]);\n  const [cardDelete, setCardDelete] = React.useState({});\n  const [isLoading, setIsLoading] = React.useState(false);\n  const [isFormLoading, setIsFormLoading] = React.useState(false);\n\n  React.useEffect(() => {\n    setIsLoading(true);\n\n    Promise.all([\n      api.getUserInfo(),\n      api.getInitialCards()\n    ])\n      .then(([userData, cards]) => {\n        setCurrentUser(userData);\n        setCards(cards);\n      })\n      .catch((err) => console.log(err))\n      .finally(() => setIsLoading(false));\n  }, []);\n\n  // закрытие попапов по Esc\n  React.useEffect(() => {\n    function handleEscClose(evt) {\n      if (evt.key === 'Escape') {\n        closeAllPopups();\n      }\n    }\n    document.addEventListener('keydown', handleEscClose);\n\n    return () => {\n      document.removeEventListener('keydown', handleEscClose);\n    };\n  });\n\n  // закрытие попапов кликом по оверлею\n  React.useEffect(() => {\n    function handleOverlayClose(evt) {\n      if (evt.target.classList.contains('popup_opened')) {\n        closeAllPopups();\n      }\n    }\n    document.addEventListener('click', handleOverlayClose);\n\n    return () => {\n      document.removeEventListener('click', handleOverlayClose);\n    };\n  });\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleAddCardClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function handleCardDelete() {\n    setDeletionConfirmPopup(true);\n  }\n\n  function handleResetForms() {\n    const forms = document.querySelectorAll('.form');\n    Array.from(forms).forEach(form => form.reset());\n  }\n\n  function removeInputErrors() {\n    const inputList = document.querySelectorAll('.form__input');\n    Array.from(inputList).forEach(input => {\n      if (!input.validity.valid) {\n        hideInputErrors(input);\n      }\n    });\n  }\n\n  function hideInputErrors(input) {\n    const errorElements = document.querySelectorAll(`.${input.id}-error`);\n    Array.from(errorElements).forEach(error => {\n      error.classList.remove('form__input-error_active');\n      error.textContent = '';\n    });\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setDeletionConfirmPopup(false);\n    setSelectedCard(null);\n    handleResetForms();\n    removeInputErrors();\n  }\n\n  function handleUpdateUser({ name, about }) {\n    setIsFormLoading(true);\n    api.setUserInfo({ name, about })\n      .then((data) => {\n        setCurrentUser({\n          name: name,\n          about: about,\n          avatar: data.avatar\n        })\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err))\n      .finally(() => setIsFormLoading(false));\n  }\n\n  function handleUpdateAvatar({ avatar }) {\n    setIsFormLoading(true);\n    api.setAvatar({ avatar })\n      .then((data) => {\n        setCurrentUser({\n          name: data.name,\n          about: data.about,\n          avatar: avatar\n        });\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err))\n      .finally(() => setIsFormLoading(false));\n  }\n\n  function handleAddCardSubmit({ name, link }) {\n    setIsFormLoading(true);\n    api.addCard({ name, link })\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err))\n      .finally(() => setIsFormLoading(false));\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, isLiked)\n      .then((newCard) => {\n        setCards((state) =>\n          state.map((c) => c._id === card._id ? newCard : c)\n        );\n      });\n  }\n\n  function handleDeletionConfirmClick() {\n    setIsFormLoading(true);\n    api.deleteCard(cardDelete._id)\n      .then(() => {\n        setCards((state) => state.filter((c) => c._id !== cardDelete._id));\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err))\n      .finally(() => setIsFormLoading(false));\n  }\n\n  return (\n    <>\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header />\n        <Main onEditAvatar={handleEditAvatarClick} onEditProfile={handleEditProfileClick} onAddCard={handleAddCardClick} onCardClick={handleCardClick} cards={cards} isLoading={isLoading} onCardLike={handleCardLike} onCardDelete={handleCardDelete} setCardDelete={setCardDelete}/>\n        <Footer />\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} isFormLoading={isFormLoading} />\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} isFormLoading={isFormLoading}/>\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddCard={handleAddCardSubmit} isFormLoading={isFormLoading} />\n        <ImagePopup card={selectedCard !== null && selectedCard} onClose={closeAllPopups} />\n        <DeletionConfirmPopup isOpen={isDeletionConfirmPopup} onClose={closeAllPopups} onConfirmDeletion={handleDeletionConfirmClick} isFormLoading={isFormLoading}/>\n      </CurrentUserContext.Provider>\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}