{"version":3,"sources":["images/logo.svg","components/Header.js","components/Footer.js","components/Loader.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/DotsLoader.js","components/popups/PopupWithForm.js","components/popups/EditProfilePopup.js","components/popups/EditAvatarPopup.js","components/popups/AddCardPopup.js","components/popups/ImagePopup.js","components/popups/DeletionConfirmPopup.js","utils/Api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","href","target","src","headerLogo","alt","Footer","Loader","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","name","onClick","onCardClick","type","aria-label","title","onCardDelete","onCardLike","length","Main","isLoading","avatar","onEditAvatar","onEditProfile","about","onAddCard","cards","map","DotsLoader","PopupWithForm","isOpen","onClose","onSubmit","noValidate","children","buttonText","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","id","minLength","maxLength","required","placeholder","value","onChange","EditAvatarPopup","inputRef","useRef","onUpdateAvatar","current","ref","AddCardPopup","setLink","ImagePopup","DeletionConfirmPopup","api","baseUrl","headers","this","_baseUrl","_headers","result","ok","json","Promise","reject","status","fetch","then","_checkResponse","method","body","JSON","stringify","cardId","removeLikeCard","setLikeCard","authorization","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAddCardPopupOpen","setIsAddCardPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setIsLoading","closeAllPopups","all","getUserInfo","getInitialCards","userData","catch","err","console","log","finally","Provider","changeLikeCardStatus","newCard","state","c","deleteCard","filter","setUserInfo","data","setAvatar","addCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"uMAAe,MAA0B,iC,OCc1BA,MAVf,WACE,OACE,wBAAQC,UAAU,kDAAlB,SACE,mBAAGC,KAAK,IAAIC,OAAO,QAAnB,SACE,qBAAKC,IAAKC,EAAYC,IAAI,0DAAuBL,UAAU,sBCEpDM,MARf,WACE,OACE,wBAAQN,UAAU,kDAAlB,SACE,mBAAGA,UAAU,oBAAb,sCCKSO,MARf,WACE,OACE,yBAASP,UAAU,wBAAnB,SACE,qBAAKA,UAAU,sCCDNQ,EAFYC,IAAMC,gBC0ClBC,MAzCf,SAAcC,GACZ,IAAMC,EAAcJ,IAAMK,WAAWN,GAC/BO,EAAQH,EAAMI,KAAKC,MAAMC,MAAQL,EAAYK,IAC7CC,EAAyB,qCACCJ,EAAQ,GAAK,8BAEvCK,EAAUR,EAAMI,KAAKK,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEL,MAAQL,EAAYK,OAC3DM,EAAuB,mCACCJ,EAAU,2BAA6B,IAgBrE,OACE,0BAASpB,UAAU,OAAnB,UACE,qBAAKA,UAAU,mBAAf,SACE,qBAAKG,IAAKS,EAAMI,KAAKS,KAAMpB,IAAKO,EAAMI,KAAKU,KAAM1B,UAAU,cAAc2B,QAf/E,WACEf,EAAMgB,YAAYhB,EAAMI,WAgBtB,wBAAQa,KAAK,SAASC,aAAW,6CAAUC,MAAM,6CAAU/B,UAAWmB,EAA2BQ,QATrG,WACEf,EAAMoB,aAAapB,EAAMI,SASvB,sBAAKhB,UAAU,aAAf,UACE,oBAAIA,UAAU,cAAd,SAA6BY,EAAMI,KAAKU,OACxC,sBAAK1B,UAAU,kBAAf,UACE,wBAAQ6B,KAAK,SAASC,aAAW,mDAAW9B,UAAWwB,EAAyBG,QAjBxF,WACEf,EAAMqB,WAAWrB,EAAMI,SAiBjB,mBAAGhB,UAAU,oBAAb,SAAkCY,EAAMI,KAAKK,MAAMa,mBCH9CC,MA7Bf,SAAcvB,GACZ,IAAMC,EAAcJ,IAAMK,WAAWN,GAErC,OACE,uBAAMR,UAAU,UAAhB,UACGY,EAAMwB,WAAc,cAAC,EAAD,IAErB,0BAASpC,UAAS,4DAAuDY,EAAMwB,WAAa,wBAA5F,UACE,sBAAKpC,UAAU,uBAAf,UACE,qBAAKG,IAAKU,EAAYwB,OAAQhC,IAAI,uCAASL,UAAU,oBACrD,wBAAQ6B,KAAK,SAASC,aAAW,iFAAgBC,MAAM,iFAAgB/B,UAAU,8BAA8B2B,QAASf,EAAM0B,kBAEhI,sBAAKtC,UAAU,gBAAf,UACE,oBAAIA,UAAU,gBAAd,SAA+Ba,EAAYa,OAC3C,wBAAQG,KAAK,SAASC,aAAW,iFAAgBC,MAAM,iFAAgB/B,UAAU,iDAAiD2B,QAASf,EAAM2B,gBACjJ,mBAAGvC,UAAU,oBAAb,SAAkCa,EAAY2B,WAEhD,wBAAQX,KAAK,SAASC,aAAW,mDAAWC,MAAM,mDAAW/B,UAAU,gDAAgD2B,QAASf,EAAM6B,eAGxI,yBAASzC,UAAS,wDAAmDY,EAAMwB,WAAa,wBAAxF,SACGxB,EAAM8B,MAAMC,KAAI,SAAC3B,GAAD,OAChB,cAAC,EAAD,CAAMA,KAAMA,EAAqBY,YAAahB,EAAMgB,YAAaK,WAAYrB,EAAMqB,WAAYD,aAAcpB,EAAMoB,cAA5FhB,EAAKE,cCftB0B,MAVf,WACE,OACE,uBAAM5C,UAAU,cAAhB,UACE,sBAAMA,UAAU,6BAAhB,eACA,sBAAMA,UAAU,6BAAhB,eACA,sBAAMA,UAAU,6BAAhB,mBCgBS6C,MApBf,SAAuBjC,GAErB,OACE,qBAAKZ,UAAS,2BAAsBY,EAAMc,KAA5B,YAAoCd,EAAMkC,OAAS,eAAiB,IAAlF,SACE,sBAAK9C,UAAS,iDAA4CY,EAAMc,MAAhE,UACE,wBAAQG,KAAK,SAASC,aAAW,6CAAUC,MAAM,6CAAU/B,UAAU,6BAA6B2B,QAASf,EAAMmC,UACjH,sBAAM/C,UAAU,OAAO0B,KAAMd,EAAMc,KAAMsB,SAAUpC,EAAMoC,SAAUC,YAAU,EAA7E,SACE,2BAAUjD,UAAU,qBAApB,UACE,wBAAQA,UAAU,cAAlB,SAAiCY,EAAMmB,QACtCnB,EAAMsC,SACP,yBAAQrB,KAAK,SAASH,KAAK,SAAS1B,UAAS,yEAAoEY,EAAMc,MAAvH,UAAgId,EAAMuC,WACpI,cAAC,EAAD,kBC0BCC,MApCf,SAA0BxC,GACxB,IAAMC,EAAcJ,IAAMK,WAAWN,GACrC,EAAwBC,IAAM4C,SAAS,IAAvC,mBAAO3B,EAAP,KAAa4B,EAAb,KACA,EAAsC7C,IAAM4C,SAAS,IAArD,mBAAOE,EAAP,KAAoBC,EAApB,KAuBA,OArBA/C,IAAMgD,WAAU,WACdH,EAAQzC,EAAYa,MACpB8B,EAAe3C,EAAY2B,SAC1B,CAAC3B,IAmBF,eAAC,EAAD,CAAea,KAAK,OAAOK,MAAM,4HAAwBoB,WAAW,yDAAYL,OAAQlC,EAAMkC,OAAQC,QAASnC,EAAMmC,QAASC,SAThI,SAAsBU,GACpBA,EAAEC,iBACF/C,EAAMgD,aAAa,CACjBlC,KAAMA,EACNc,MAAOe,KAKT,UACE,uBAAO1B,KAAK,OAAOH,KAAK,OAAOmC,GAAG,aAAaC,UAAU,IAAIC,UAAU,KAAKC,UAAQ,EAAChE,UAAU,oCAAoCiE,YAAY,qBAAMC,MAAOxC,EAAMyC,SAlBtK,SAA0BT,GACxBJ,EAAQI,EAAExD,OAAOgE,UAkBf,sBAAMlE,UAAU,qCAAhB,oIACA,uBAAO6B,KAAK,OAAOH,KAAK,WAAWmC,GAAG,iBAAiBC,UAAU,IAAIC,UAAU,MAAMC,UAAQ,EAAChE,UAAU,wCAAwCiE,YAAY,kCAASC,MAAOX,EAAaY,SAhB7L,SAAiCT,GAC/BF,EAAeE,EAAExD,OAAOgE,UAgBtB,sBAAMlE,UAAU,yCAAhB,wICbSoE,MAnBf,SAAyBxD,GACvB,IAAMyD,EAAW5D,IAAM6D,SAUvB,OACE,eAAC,EAAD,CAAe5C,KAAK,cAAcK,MAAM,wFAAkBoB,WAAW,yDAAYL,OAAQlC,EAAMkC,OAAQC,QAASnC,EAAMmC,QAASC,SATjI,SAAsBU,GACpBA,EAAEC,iBAEF/C,EAAM2D,eAAe,CACnBlC,OAAQgC,EAASG,QAAQN,SAK3B,UACE,uBAAOrC,KAAK,MAAMH,KAAK,OAAOmC,GAAG,aAAaG,UAAQ,EAAChE,UAAU,oCAAoCiE,YAAY,qGAAqBQ,IAAKJ,IAC3I,sBAAMrE,UAAU,qCAAhB,2HCgBS0E,MA9Bf,SAAsB9D,GACpB,MAAwBH,IAAM4C,SAAS,IAAvC,mBAAO3B,EAAP,KAAa4B,EAAb,KACA,EAAwB7C,IAAM4C,SAAS,IAAvC,mBAAO5B,EAAP,KAAakD,EAAb,KAkBA,OACE,eAAC,EAAD,CAAejD,KAAK,WAAWK,MAAM,gEAAcoB,WAAW,6CAAUL,OAAQlC,EAAMkC,OAAQC,QAASnC,EAAMmC,QAASC,SATxH,SAAsBU,GACpBA,EAAEC,iBACF/C,EAAM6B,UAAU,CACdf,KAAMA,EACND,KAAMA,KAKR,UACE,uBAAOI,KAAK,OAAOH,KAAK,QAAQmC,GAAG,cAAcC,UAAU,IAAIC,UAAU,KAAKC,UAAQ,EAAChE,UAAU,qCAAqCiE,YAAY,mDAAWE,SAlBjK,SAA0BT,GACxBJ,EAAQI,EAAExD,OAAOgE,UAkBf,sBAAMlE,UAAU,sCAAhB,oIACA,uBAAO6B,KAAK,MAAMH,KAAK,OAAOmC,GAAG,aAAaG,UAAQ,EAAChE,UAAU,oCAAoCiE,YAAY,qGAAqBE,SAhB1I,SAA0BT,GACxBiB,EAAQjB,EAAExD,OAAOgE,UAgBf,sBAAMlE,UAAU,qCAAhB,2HCZS4E,MAdf,SAAoBhE,GAClB,OACE,qBAAKZ,UAAS,iCAA4BY,EAAMI,KAAO,eAAiB,IAAxE,SACE,sBAAKhB,UAAU,+CAAf,UACE,wBAAQ6B,KAAK,SAASC,aAAW,6CAAUC,MAAM,6CAAU/B,UAAU,6BAA6B2B,QAASf,EAAMmC,UACjH,yBAAQ/C,UAAU,oBAAlB,UACE,qBAAKG,IAAKS,EAAMI,KAAKS,KAAMpB,IAAKO,EAAMI,KAAKU,KAAM1B,UAAU,iBAC3D,4BAAYA,UAAU,iBAAtB,SAAwCY,EAAMI,KAAKU,gBCE9CmD,MARf,WACE,OACE,cAAC,EAAD,CAAenD,KAAK,mBAAmBK,MAAM,2DAAcoB,WAAW,kB,cCkG3D2B,EARH,I,WA9FV,cAAmC,IAArBC,EAAoB,EAApBA,QAASC,EAAW,EAAXA,QAAW,oBAChCC,KAAKC,SAAWH,EAChBE,KAAKE,SAAWH,E,kDAGlB,SAAeI,GACb,OAAIA,EAAOC,GACFD,EAAOE,OAETC,QAAQC,OAAR,gDAA0BJ,EAAOK,W,6BAG1C,WACE,OAAOC,MAAM,GAAD,OAAIT,KAAKC,SAAT,UAA2B,CACrCF,QAASC,KAAKE,WAEfQ,KAAKV,KAAKW,kB,yBAGb,WACE,OAAOF,MAAM,GAAD,OAAIT,KAAKC,SAAT,aAA8B,CACxCF,QAASC,KAAKE,WAEfQ,KAAKV,KAAKW,kB,yBAGb,YAA8B,IAAhBlE,EAAe,EAAfA,KAAMc,EAAS,EAATA,MAClB,OAAOkD,MAAM,GAAD,OAAIT,KAAKC,SAAT,aAA8B,CACxCW,OAAQ,QACRb,QAASC,KAAKE,SACdW,KAAMC,KAAKC,UAAU,CACnBtE,KAAK,GAAD,OAAKA,GACTc,MAAM,GAAD,OAAKA,OAGbmD,KAAKV,KAAKW,kB,uBAGb,YAAuB,IAAXvD,EAAU,EAAVA,OACV,OAAOqD,MAAM,GAAD,OAAIT,KAAKC,SAAT,oBAAqC,CAC/CW,OAAQ,QACRb,QAASC,KAAKE,SACdW,KAAMC,KAAKC,UAAU,CACnB3D,OAAO,GAAD,OAAKA,OAGdsD,KAAKV,KAAKW,kB,qBAGb,YAAyB,IAAflE,EAAc,EAAdA,KAAMD,EAAQ,EAARA,KACd,OAAOiE,MAAM,GAAD,OAAIT,KAAKC,SAAT,UAA2B,CACrCW,OAAQ,OACRb,QAASC,KAAKE,SACdW,KAAMC,KAAKC,UAAU,CACnBtE,KAAK,GAAD,OAAKA,GACTD,KAAK,GAAD,OAAKA,OAGZkE,KAAKV,KAAKW,kB,wBAGb,SAAWK,GACT,OAAOP,MAAM,GAAD,OAAIT,KAAKC,SAAT,kBAA2Be,GAAU,CAC/CJ,OAAQ,SACRb,QAASC,KAAKE,WAEfQ,KAAKV,KAAKW,kB,yBAGb,SAAYK,GACV,OAAOP,MAAM,GAAD,OAAIT,KAAKC,SAAT,wBAAiCe,GAAU,CACrDJ,OAAQ,MACRb,QAASC,KAAKE,WAEfQ,KAAKV,KAAKW,kB,4BAGb,SAAeK,GACb,OAAOP,MAAM,GAAD,OAAIT,KAAKC,SAAT,wBAAiCe,GAAU,CACrDJ,OAAQ,SACRb,QAASC,KAAKE,WAEfQ,KAAKV,KAAKW,kB,kCAGb,SAAqBK,EAAQ7E,GAC3B,OAAIA,EACK6D,KAAKiB,eAAeD,GAEpBhB,KAAKkB,YAAYF,O,KAKlB,CAAQ,CAClBlB,QAAS,8CACTC,QAAS,CACPoB,cAAe,uCACf,eAAgB,sBC+BLC,MAtHf,WACE,MAA4D5F,IAAM4C,UAAS,GAA3E,mBAAOiD,EAAP,KAA+BC,EAA/B,KACA,EAA0D9F,IAAM4C,UAAS,GAAzE,mBAAOmD,EAAP,KAA8BC,EAA9B,KACA,EAAoDhG,IAAM4C,UAAS,GAAnE,mBAAOqD,EAAP,KAA2BC,EAA3B,KACA,EAAwClG,IAAM4C,SAAS,MAAvD,mBAAOuD,EAAP,KAAqBC,EAArB,KACA,EAAsCpG,IAAM4C,SAAS,CACnD3B,KAAM,GACNc,MAAO,GACPH,OAAQ,KAHV,mBAAOxB,EAAP,KAAoBiG,EAApB,KAKA,EAA0BrG,IAAM4C,SAAS,IAAzC,mBAAOX,EAAP,KAAcqE,EAAd,KACA,EAAkCtG,IAAM4C,UAAS,GAAjD,mBAAOjB,EAAP,KAAkB4E,EAAlB,KAiCA,SAASC,IACPV,GAA0B,GAC1BE,GAAyB,GACzBE,GAAsB,GACtBE,EAAgB,MAsDlB,OAzFApG,IAAMgD,WAAU,WACduD,GAAa,GAEbzB,QAAQ2B,IAAI,CACVpC,EAAIqC,cACJrC,EAAIsC,oBAEHzB,MAAK,YAAwB,IAAD,mBAArB0B,EAAqB,KAAX3E,EAAW,KAC3BoE,EAAeO,GACfN,EAASrE,MAEV4E,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,MAC3BG,SAAQ,kBAAMV,GAAa,QAC7B,IA6ED,mCACE,eAAC,EAAmBW,SAApB,CAA6BzD,MAAOrD,EAApC,UACE,cAAC,EAAD,IACA,cAAC,EAAD,CAAMyB,aA1EZ,WACEmE,GAAyB,IAyEsBlE,cA9EjD,WACEgE,GAA0B,IA6E4D9D,UAtExF,WACEkE,GAAsB,IAqE+F/E,YAlEvH,SAAyBZ,GACvB6F,EAAgB7F,IAiEmI0B,MAAOA,EAAON,UAAWA,EAAWH,WAvBzL,SAAwBjB,GACtB,IAAMI,EAAUJ,EAAKK,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEL,MAAQL,EAAYK,OAC3D4D,EACG8C,qBAAqB5G,EAAKE,IAAKE,GAC/BuE,MAAK,SAACkC,GACLd,GAAS,SAACe,GAAD,OACPA,EAAMnF,KAAI,SAACoF,GAAD,OAAOA,EAAE7G,MAAQF,EAAKE,IAAM2G,EAAUE,YAiB6J/F,aAZrN,SAA0BhB,GACxB8D,EACGkD,WAAWhH,EAAKE,KAChByE,KAAKoB,GAAS,SAACe,GAAD,OACbA,EAAMG,QAAO,SAACF,GAAD,OAAOA,EAAE7G,MAAQF,EAAKE,cASnC,cAAC,EAAD,IACA,cAAC,EAAD,CAAkB4B,OAAQwD,EAAwBvD,QAASkE,EAAgBrD,aAzDjF,YAA4C,IAAhBlC,EAAe,EAAfA,KAAMc,EAAS,EAATA,MAChCsC,EAAIoD,YAAY,CAAExG,OAAMc,UACrBmD,MAAK,SAACwC,GACLrB,EAAe,CACbpF,KAAMA,EACNc,MAAOA,EACPH,OAAQ8F,EAAK9F,SAEf4E,UAkDA,cAAC,EAAD,CAAiBnE,OAAQ0D,EAAuBzD,QAASkE,EAAgB1C,eA9C/E,YAAyC,IAAXlC,EAAU,EAAVA,OAC5ByC,EAAIsD,UAAU,CAAE/F,WACfsD,MAAK,SAACwC,GACLrB,EAAe,CACbpF,KAAMyG,EAAKzG,KACXc,MAAO2F,EAAK3F,MACZH,OAAQA,IAEV4E,UAuCE,cAAC,EAAD,CAAcnE,OAAQ4D,EAAoB3D,QAASkE,EAAgBxE,UAnCzE,YAA8C,IAAff,EAAc,EAAdA,KAAMD,EAAQ,EAARA,KACnCqD,EAAIuD,QAAQ,CAAE3G,OAAMD,SACjBkE,MAAK,SAACkC,GACLd,EAAS,CAACc,GAAF,mBAAcnF,KACtBuE,UAgCA,cAAC,EAAD,CAAYjG,KAAuB,OAAjB4F,GAAyBA,EAAc7D,QAASkE,IAClE,cAAC,EAAD,UChHOqB,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB7C,MAAK,YAAkD,IAA/C8C,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.680d8e54.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React from 'react';\nimport headerLogo from '../images/logo.svg';\n\nfunction Header() {\n  return (\n    <header className=\"header page__section page__section_place_header\">\n      <a href=\"#\" target=\"_self\">\n        <img src={headerLogo} alt=\"Логотип Mesto Russia\" className=\"header__logo\" />\n      </a>\n    </header>\n  )\n}\n\nexport default Header;\n","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer page__section page__section_place_footer\">\r\n      <p className=\"footer__copyright\">&copy;2021 Mesto Russia</p>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\n\r\nfunction Loader() {\r\n  return (\r\n    <section className=\"loader loader_visible\">\r\n      <div className=\"loader__triangle triangle-spin\"></div>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default Loader;\r\n","import React from 'react';\r\n\r\nconst CurrentUserContext = React.createContext();\r\n\r\nexport default CurrentUserContext;\r\n","import React from 'react';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const isOwn = props.card.owner._id === currentUser._id;\n  const cardDeleteButtonClassName = (\n    `button card__delete-button ${isOwn ? '' : 'card__delete-button_hidden'}`\n  );\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\n  const cardLikeButtonClassName = (\n    `button card__like-button ${isLiked ? 'card__like-button_active' : ''}`\n  );\n\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(props.card);\n  }\n\n  return (\n    <article className=\"card\">\n      <div className=\"card__image-wrap\">\n        <img src={props.card.link} alt={props.card.name} className=\"card__image\" onClick={handleClick} />\n      </div>\n      <button type=\"button\" aria-label=\"Удалить\" title=\"Удалить\" className={cardDeleteButtonClassName} onClick={handleDeleteClick}></button>\n      <div className=\"card__info\">\n        <h2 className=\"card__title\">{props.card.name}</h2>\n        <div className=\"card__like-wrap\">\n          <button type=\"button\" aria-label=\"Нравится\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\n          <p className=\"card__like-number\">{props.card.likes.length}</p>\n        </div>\n      </div>\n    </article>\n  )\n}\n\nexport default Card;\n","import React from 'react';\nimport Loader from './Loader';\nimport Card from './Card';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      {props.isLoading && (<Loader />)}\n\n      <section className={`profile page__section page__section_place_profile ${props.isLoading && \"page__section_hidden\"}`}>\n        <div className=\"profile__avatar-wrap\">\n          <img src={currentUser.avatar} alt=\"аватар\" className=\"profile__avatar\" />\n          <button type=\"button\" aria-label=\"Редактировать\" title=\"Редактировать\" className=\"button profile__avatar-edit\" onClick={props.onEditAvatar}></button>\n        </div>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\n          <button type=\"button\" aria-label=\"Редактировать\" title=\"Редактировать\" className=\"button button_action_edit profile__info-button\" onClick={props.onEditProfile}></button>\n          <p className=\"profile__activity\">{currentUser.about}</p>\n        </div>\n        <button type=\"button\" aria-label=\"Добавить\" title=\"Добавить\" className=\"button button_action_add-card profile__button\" onClick={props.onAddCard}></button>\n      </section>\n\n      <section className={`cards page__section page__section_place_cards ${props.isLoading && \"page__section_hidden\"}`}>\n        {props.cards.map((card) => (\n         <Card card={card} key={card._id} onCardClick={props.onCardClick} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete} />\n        ))}\n      </section>\n    </main>\n  )\n}\n\nexport default Main;\n","import React from 'react';\r\n\r\nfunction DotsLoader() {\r\n  return (\r\n    <span className=\"dots-loader\">\r\n      <span className=\"dots-loader__dot dot-pulse\">.</span>\r\n      <span className=\"dots-loader__dot dot-pulse\">.</span>\r\n      <span className=\"dots-loader__dot dot-pulse\">.</span>\r\n    </span>\r\n  )\r\n}\r\n\r\nexport default DotsLoader;\r\n","import React from 'react';\nimport DotsLoader from '../DotsLoader';\n\nfunction PopupWithForm(props) {\n\n  return (\n    <div className={`popup popup_type_${props.name} ${props.isOpen ? \"popup_opened\" : \"\"}`}>\n      <div className={`popup__container popup__container_type_${props.name}`}>\n        <button type=\"button\" aria-label=\"Закрыть\" title=\"Закрыть\" className=\"button popup__close-button\" onClick={props.onClose}></button>\n        <form className=\"form\" name={props.name} onSubmit={props.onSubmit} noValidate>\n          <fieldset className=\"form__profile-info\">\n            <legend className=\"form__title\">{props.title}</legend>\n            {props.children}\n            <button type=\"submit\" name=\"submit\" className={`button button_action_submit form__button form__button_position_${props.name}`}>{props.buttonText}\n              <DotsLoader />\n            </button>\n          </fieldset>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default PopupWithForm ;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport CurrentUserContext from '../../contexts/CurrentUserContext';\n\nfunction EditProfilePopup(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleDescriptionChange(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateUser({\n      name: name,\n      about: description\n    });\n  }\n\n  return (\n    <PopupWithForm name=\"edit\" title=\"Редактировать профиль\" buttonText=\"Сохранить\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\n      <input type=\"text\" name=\"name\" id=\"name-input\" minLength=\"2\" maxLength=\"40\" required className=\"form__input form__input_type_name\" placeholder=\"Имя\" value={name} onChange={handleNameChange} />\n      <span className=\"form__input-error name-input-error\">Вы пропустили это поле.</span>\n      <input type=\"text\" name=\"activity\" id=\"activity-input\" minLength=\"2\" maxLength=\"200\" required className=\"form__input form__input_type_activity\" placeholder=\"О себе\" value={description} onChange={handleDescriptionChange} />\n      <span className=\"form__input-error activity-input-error\">Вы пропустили это поле.</span>\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup(props) {\n  const inputRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onUpdateAvatar({\n      avatar: inputRef.current.value\n    });\n  }\n\n  return (\n    <PopupWithForm name=\"avatar-edit\" title=\"Обновить аватар\" buttonText=\"Сохранить\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\n      <input type=\"url\" name=\"link\" id=\"link-input\" required className=\"form__input form__input_type_link\" placeholder=\"Ссылка на картинку\" ref={inputRef} />\n      <span className=\"form__input-error link-input-error\">Введите адрес сайта.</span>\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddCardPopup(props) {\n  const [name, setName] = React.useState('');\n  const [link, setLink] = React.useState('');\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleLinkChange(e) {\n    setLink(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onAddCard({\n      name: name,\n      link: link\n    });\n  }\n\n  return (\n    <PopupWithForm name=\"add-card\" title=\"Новое место\" buttonText=\"Создать\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} >\n      <input type=\"text\" name=\"title\" id=\"title-input\" minLength=\"2\" maxLength=\"30\" required className=\"form__input form__input_type_title\" placeholder=\"Название\" onChange={handleNameChange} />\n      <span className=\"form__input-error title-input-error\">Вы пропустили это поле.</span>\n      <input type=\"url\" name=\"link\" id=\"link-input\" required className=\"form__input form__input_type_link\" placeholder=\"Ссылка на картинку\" onChange={handleLinkChange} />\n      <span className=\"form__input-error link-input-error\">Введите адрес сайта.</span>\n    </PopupWithForm>\n  )\n}\n\nexport default AddCardPopup;\n","import React from 'react';\r\n\r\nfunction ImagePopup(props) {\r\n  return (\r\n    <div className={`popup popup_type_image ${props.card ? \"popup_opened\" : \"\"}`}>\r\n      <div className=\"popup__container popup__container_type_image\">\r\n        <button type=\"button\" aria-label=\"Закрыть\" title=\"Закрыть\" className=\"button popup__close-button\" onClick={props.onClose}></button>\r\n        <figure className=\"popup__image-wrap\">\r\n          <img src={props.card.link} alt={props.card.name} className=\"popup__image\" />\r\n          <figcaption className=\"popup__caption\">{props.card.name}</figcaption>\r\n        </figure>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ImagePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction DeletionConfirmPopup() {\r\n  return (\r\n    <PopupWithForm name=\"deletion-confirm\" title=\"Вы уверены?\" buttonText=\"Да\">\r\n\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default DeletionConfirmPopup;\r\n","class Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  _checkResponse(result) {\n    if (result.ok) {\n      return result.json();\n    }\n    return Promise.reject(`Ошибка: ${result.status}`);\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers\n    })\n    .then(this._checkResponse);\n  }\n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers\n    })\n    .then(this._checkResponse);\n  }\n\n  setUserInfo({ name, about }) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: `${name}`,\n        about: `${about}`\n      })\n    })\n    .then(this._checkResponse);\n  }\n\n  setAvatar({ avatar }) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: `${avatar}`\n      })\n    })\n    .then(this._checkResponse);\n  }\n\n  addCard({ name, link }) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: `${name}`,\n        link: `${link}`\n      })\n    })\n    .then(this._checkResponse);\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers\n    })\n    .then(this._checkResponse);\n  }\n\n  setLikeCard(cardId) {\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      method: 'PUT',\n      headers: this._headers\n    })\n    .then(this._checkResponse);\n  }\n\n  removeLikeCard(cardId) {\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers\n    })\n    .then(this._checkResponse);\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    if (isLiked) {\n      return this.removeLikeCard(cardId);\n    } else {\n      return this.setLikeCard(cardId);\n    }\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-24',\n  headers: {\n    authorization: 'c72c9866-e9ca-4f90-b055-72d87299b8be',\n    'Content-Type': 'application/json'\n  }\n});\n\nexport default api;\n","import React from 'react';\nimport Header from './Header';\nimport Footer from './Footer';\nimport Main from './Main';\nimport EditProfilePopup from './popups/EditProfilePopup';\nimport EditAvatarPopup from './popups/EditAvatarPopup';\nimport AddCardPopup from './popups/AddCardPopup';\nimport ImagePopup from './popups/ImagePopup';\nimport DeletionConfirmPopup from './popups/DeletionConfirmPopup';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport api from '../utils/Api';\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isAddCardPopupOpen, setIsAddCardPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState(null);\n  const [currentUser, setCurrentUser] = React.useState({\n    name: '',\n    about: '',\n    avatar: ''\n  });\n  const [cards, setCards] = React.useState([]);\n  const [isLoading, setIsLoading] = React.useState(false);\n\n  React.useEffect(() => {\n    setIsLoading(true);\n\n    Promise.all([\n      api.getUserInfo(),\n      api.getInitialCards()\n    ])\n      .then(([userData, cards]) => {\n        setCurrentUser(userData);\n        setCards(cards);\n      })\n      .catch((err) => console.log(err))\n      .finally(() => setIsLoading(false));\n  }, []);\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleAddCardClick() {\n    setIsAddCardPopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsAddCardPopupOpen(false);\n    setSelectedCard(null);\n  }\n\n  function handleUpdateUser({ name, about }) {\n    api.setUserInfo({ name, about })\n      .then((data) => {\n        setCurrentUser({\n          name: name,\n          about: about,\n          avatar: data.avatar\n        });\n        closeAllPopups();\n      });\n  }\n\n  function handleUpdateAvatar({ avatar }) {\n    api.setAvatar({ avatar })\n    .then((data) => {\n      setCurrentUser({\n        name: data.name,\n        about: data.about,\n        avatar: avatar\n      });\n      closeAllPopups();\n    });\n  }\n\n  function handleAddCardSubmit({ name, link }) {\n    api.addCard({ name, link })\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      });\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api\n      .changeLikeCardStatus(card._id, isLiked)\n      .then((newCard) => {\n        setCards((state) =>\n          state.map((c) => c._id === card._id ? newCard : c)\n        );\n      });\n  }\n\n  function handleCardDelete(card) {\n    api\n      .deleteCard(card._id)\n      .then(setCards((state) =>\n        state.filter((c) => c._id !== card._id)\n      ));\n  }\n\n  return (\n    <>\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header />\n        <Main onEditAvatar={handleEditAvatarClick} onEditProfile={handleEditProfileClick} onAddCard={handleAddCardClick} onCardClick={handleCardClick} cards={cards} isLoading={isLoading} onCardLike={handleCardLike} onCardDelete={handleCardDelete}/>\n        <Footer />\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n        <AddCardPopup isOpen={isAddCardPopupOpen} onClose={closeAllPopups} onAddCard={handleAddCardSubmit} />\n        <ImagePopup card={selectedCard !== null && selectedCard} onClose={closeAllPopups} />\n        <DeletionConfirmPopup />\n      </CurrentUserContext.Provider>\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}